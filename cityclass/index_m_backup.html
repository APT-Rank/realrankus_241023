<!DOCTYPE html>
<html lang="ko">
<head>
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-KNL2VQN');</script>
  <!-- End Google Tag Manager -->

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-218993952-1">
  </script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-218993952-1');

    if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('serviceWorker_cc.js')
      .then((reg) => {
        console.log('Service Worker Registered!', reg);
      });
    }
  </script>

  <title>CityClass</title>
  <meta property="og:type" content="website">
  <meta property="og:title" content="CityClass">
  <meta property="og:description" content="전국의 도시별 백분위표">
  <meta property="og:image" content="https://www.realrankus.com/cityclass/thumbnail_cc.jpg">
  <meta property="og:url" content="https://www.realrankus.com/cityclass/">
  <meta name="keyword" content="경제, 환율, 시장, 주식, 금리, 유가, 외환, 부동산">
  <meta name="description" content="리얼랭커스 시장 분석">
  <meta name="author" content="리얼랭커스">
  <meta name="robots" content="index,follow">
  <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=yes, minimal-ui, viewport-fit=cover">

  <!-- 주소창 등의 웹 브라우저 UI를 표시하지 않기 -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <!-- 상태 바의 스타일을 지정 -->
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="theme-color" content="#fff">
  <!-- 홈 화면에서 표시되는 앱 이름을 지정 -->
  <meta name="apple-mobile-web-app-title" content="리얼랭커스 CityClass">
  <!-- 홈 화면에서 표시되는 앱 아이콘을 지정 -->  
  <link rel="apple-touch-icon" href="https://www.realrankus.com/cityclass/realrankus-cc-512x512.png">
  <!-- 웹 앱 매니페스트를 읽어 들이기 -->
  <link rel="manifest" href="manifest_cc.json">  

  <link rel="canonical" href="https://www.realrankus.com/cityclass/">
  <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/@mdi/font@6.x/css/materialdesignicons.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  
  <link rel="shortcut icon" href="https://www.realrankus.com/cityclass/realrankus-cc-512x512.png"/>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js" integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
  <script src="https://developers.kakao.com/sdk/js/kakao.js"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>

  <script src="./retion_class.js" type="text/javascript"></script>
  <script src="../js/sort.js" type="text/javascript"></script>
  <script src="../js/search.js" type="text/javascript"></script>  
  <script src="../js/share.js" type="text/javascript"></script>
  <script src="../js/distance.js" type="text/javascript"></script>    

  <link href="../css/style_common.css" rel="stylesheet"/>
  <link href="./style_class.css" rel="stylesheet"/>

</head>
<style>
</style>

<body ontouchstart="">
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNL2VQN"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  <!-- 타이틀 영역 -->
  <div id="titleBar_theme_m">
    <!--검색 버튼 표시-->    
    <div id="mfShare"></div>    
    <div class='bShare' onClick='CopyToClipboard(shareText, popMsg)'><i class='fa-regular fa-copy'></i></div>
    <!--타이틀 표시-->    
    <div id="title_m" onClick='window.location.reload()'>CityClass<span id='themeLogo_m'>BETA</span></div>
    <!-- <div id="footer_text">Copyright 2022 | 리얼랭커스BIZ | <a href="mailto:aptranking@gmail.com" style="text-decoration:None; color: white">협업/광고/제휴문의는 aptranking@gmail.com으로 문의해 주세요</a></div> -->
    <!--공유 버튼-->        
    <div></div>    
    <!--단지 가중치 설정 버튼 표시-->        
    <div id="help_m" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" id="offcanvas_right" aria-controls="offcanvasRight"><i class="fa-solid fa-ellipsis"></i></div>
  </div>

  <div id="menu_selector_m">    
    <div><input type='radio' class='btnRadio_tab' name='menu_select' autocomplete='off' id='menu_select_price' onClick='change_menu(this)' checked><label class='btn btn-outline-danger' id='label_menu_select_price' for='menu_select_price'>#평단</label></div>
    <div><input type='radio' class='btnRadio_tab' name='menu_select' autocomplete='off' id='menu_select_balanced' onClick='change_menu(this)'><label class='btn btn-outline-danger' id='label_menu_select_balanced' for='menu_select_balanced'>#균형</label></div>
    <div><input type='radio' class='btnRadio_tab' name='menu_select' autocomplete='off' id='menu_select_edu' onClick='change_menu(this)'><label class='btn btn-outline-danger' id='label_menu_select_edu' for='menu_select_edu'>#교육</label></div>
    <div><input type='radio' class='btnRadio_tab' name='menu_select' autocomplete='off' id='menu_select_infra' onClick='change_menu(this)'><label class='btn btn-outline-danger' id='label_menu_select_infra' for='menu_select_infra'>#인프라</label></div>
    <div><input type='radio' class='btnRadio_tab' name='menu_select' autocomplete='off' id='menu_select_living' onClick='change_menu(this)'><label class='btn btn-outline-danger' id='label_menu_select_living' for='menu_select_living'>#주거</label></div>
    <div><input type='radio' class='btnRadio_tab' name='menu_select' autocomplete='off' id='menu_select_trans' onClick='change_menu(this)'><label class='btn btn-outline-danger' id='label_menu_select_trans' for='menu_select_trans'>#교통</label></div>            
  </div>

  <div id="container_m">
    <div id="centerBox_m">
      <!-- Vertically centered scrollable modal -->
        <!-- Button trigger modal -->
        <!-- Modal -->
        <div class="modal fade" id="noticeModal" tabindex="-1" aria-labelledby="noticeModalLabel" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="noticeModalLabel">Modal title</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body" id='aptDetail'></div>
              <div id='footer'></div>
            </div>
          </div>
        </div>
        
        <!-- Modal -->
        <div class="modal fade" id="infoModal_m" tabindex="-1" aria-labelledby="infoModalLabel" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content">
              <div class="modal-header" style="background: #eee;">
                <h5 class="modal-title" id="regionTitle">Modal title</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body" id='regionDetail'></div>
              <div id='Infofooter'></div>
            </div>
          </div>
        </div>         

      <!--지도 표시 영역-->
      <div id="map_area">        
        <div id="table_area_m">
          <table id='data_table' style='table-layout: fixed; background: white; border-spacing: 0;'></table>
        </div>
      </div>   
  </div>

  <!-- Offcanvas Right -->
  <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel">
    <div class="offcanvas-header">
      <h5 id="offcanvasRightLabel">SERVICES</h5>
      <button type="button" class="btn-close text-reset btn-close-white" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body"></div>
  </div>  
  
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.0/chart.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/chartjs-plugin-datalabels/2.2.0/chartjs-plugin-datalabels.min.js"></script>  
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-trendline"></script>

  <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-database.js"></script>   

</body>
 
<script src="https://static.nid.naver.com/js/naveridlogin_js_sdk_2.0.2.js" charset="utf-8"></script>  
<script src="../js/login.js" type="text/javascript"></script>
<script src="../js/apple.js" type="text/javascript"></script>
<script type="module" src="../js/con_counter.js"></script>

<script>
  var selectedRegion = "Korea"
  var selectedSubRegion = "1000000000_Korea"
  var selectedTheme = "under100M"
  var currentMonth = "202312" //수정

  var pageName = "cityclass" //20231020  

  var itemNum = 0;
  var daily_market = "";
  var monthly_market = "";
  var hourly_market = "";

  var hourly_updated = ""
  var daily_updated = ""
  var monthly_updated = ""

  var currentMenu = ""

  var shareTitle = ""
  var shareText = ""
  var shareURL = "https://www.realrankus.com/cityclass" + "#aptrank.kr"

  var isMobile = true
  var interaction_mode = "index"

  var broswerInfo = navigator.userAgent;  

  var today = new Date();
  var today_year = today.getFullYear();
  var today_month = dateReturn(today.getMonth() + 1);
  var today_day = dateReturn(today.getDate());
  var today_num = Number("" + today_year + today_month + today_day);
  var today_str = today_year + "-" + today_month + "-" + today_day;

  function dateReturn(n) {
    return n < 10 ? "0" + n : n;
  }   

  $(document).ready(function(){
    $('#dataList').html("");
    $('#data_table').html("<div id='loading_back'><br><br><br><br><br><br><br><br><div class='spinner-border' role='status'></div></div>")
    $('#data_table').css({'text-align' : 'center', 'width':'100%', 'background':'none'})    
    $('#table_area_m').css({'height':screen.availHeight-82})

    Kakao.init(kakaoKey);

    $('div.modal').on('show.bs.modal', function() {
      var modal = this;
      var hash = modal.id;
      window.location.hash = hash;
      window.onhashchange = function() {
        if (!location.hash){
          $(modal).modal('hide');
        }
      }
    });

    scrollUp()    

    currentMenu = "cityclass"  //offcanvas  
    setOffcanvasMenu() //offcanvas
    
    //msg = "<div class='spinner-border' role='status'></div><div id = 'modalMsg'></div>"
    //showModal(msg)
    draw()

    countUp(pageName)  
  });

  var region_class = ""

  function showModal(msg){
    msg = "<br>" + msg
    $("#aptDetail").html(msg)
    $("#noticeModal > .modal-dialog > .modal-content > .modal-header").hide()
    changeModalLabel()
    $('#noticeModal').modal('show')
    sleep(300)
    draw() 
  }

  var price_index = ""
  var balanced_index = ""
  var living_index = ""
  var infra_index = ""
  var trans_index = ""
  var edu_index = ""
  var sido_list = ""
  var gungu_list = ""

  function draw(){
  class_url = "https://www.realrankus.com/cityclass/" + currentMonth + "/regional_class_" + currentMonth + ".json"
  index_url_price = "https://www.realrankus.com/cityclass/" + currentMonth + "/cityclass_indexer_price_" + currentMonth + ".json"
  index_url_balanced = "https://www.realrankus.com/cityclass/" + currentMonth + "/cityclass_indexer_value_" + currentMonth + ".json"
  index_url_living = "https://www.realrankus.com/cityclass/" + currentMonth + "/cityclass_indexer_living_" + currentMonth + ".json"
  index_url_infra = "https://www.realrankus.com/cityclass/" + currentMonth + "/cityclass_indexer_infra_" + currentMonth + ".json"
  index_url_trans = "https://www.realrankus.com/cityclass/" + currentMonth + "/cityclass_indexer_trans_" + currentMonth + ".json"
  index_url_edu = "https://www.realrankus.com/cityclass/" + currentMonth + "/cityclass_indexer_edu_" + currentMonth + ".json"
    $.getJSON(class_url, function(json) {
        region_class = json;
        sido_list = getUniqueList(region_class.data, "시도")
        gungu_list = []
        for(var i = 0 ; i < sido_list.length ;  i++){
          searched_gungu = region_class.data.filter(function (object){
            return object["시도"] === sido_list[i]          
          })
          gungu_unique_list = getUniqueList(searched_gungu, "군구")
          gungu_list.push(gungu_unique_list)
        }        
    })
    .then(()=>{
        $.getJSON(index_url_balanced, function(json) {
          balanced_index = json;          
      })
      .then(()=>{
          $.getJSON(index_url_living, function(json) {
            living_index = json;          
        })    
        .then(()=>{
            $.getJSON(index_url_infra, function(json) {
              infra_index = json;          
          })    
          .then(()=>{
              $.getJSON(index_url_trans, function(json) {
                trans_index = json;          
            })    
            .then(()=>{
                $.getJSON(index_url_edu, function(json) {
                  edu_index = json;          
              })            
              .then(()=>{
                  $.getJSON(index_url_price, function(json) {
                    price_index = json;
                    //console.log(price_index)
                    drawTable(price_index, sido_list, gungu_list)
                })
              })
            })
          })
        })
      })
    })
}

  function openURL(url){    
    if(checkMobile() == "ios"){
      window.location.href = url
    }
    else{
      window.open(url)
    }
  }

function scrollUp(){
  $( 'html, body' ).animate( { scrollTop : 0 }, 50 );
}
</script>
</html>
