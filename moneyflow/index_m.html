<!DOCTYPE html>
<html lang="ko">
<head>
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-KNL2VQN');</script>
  <!-- End Google Tag Manager -->

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-218993952-1">
  </script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-218993952-1');

    if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('serviceWorker_mf.js')
      .then((reg) => {
        console.log('Service Worker Registered!', reg);
      });
    }
  </script>

  <title>MoneyFlow</title>
  <meta property="og:type" content="website">
  <meta property="og:title" content="MoneyFlow">
  <meta property="og:description" content="하루 한 번 시장 지표를 읽는 습관">
  <meta property="og:image" content="https://www.realrankus.com/moneyflow/thumbnail_mf.jpg">
  <meta property="og:url" content="https://www.realrankus.com/moneyflow/">
  <meta name="keyword" content="경제, 환율, 시장, 주식, 금리, 유가, 외환, 부동산">
  <meta name="description" content="리얼랭커스 시장 분석">
  <meta name="author" content="리얼랭커스">
  <meta name="robots" content="index,follow">
  <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=yes, minimal-ui, viewport-fit=cover">

  <!-- 주소창 등의 웹 브라우저 UI를 표시하지 않기 -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <!-- 상태 바의 스타일을 지정 -->
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="theme-color" content="#fff">
  <!-- 홈 화면에서 표시되는 앱 이름을 지정 -->
  <meta name="apple-mobile-web-app-title" content="리얼랭커스 MoneyFlow">
  <!-- 홈 화면에서 표시되는 앱 아이콘을 지정 -->  
  <link rel="apple-touch-icon" href="https://www.realrankus.com/moneyflow/apt-rank-mf-152x152.png">
  <!-- 웹 앱 매니페스트를 읽어 들이기 -->
  <link rel="manifest" href="manifest_mf.json">  

  <link rel="canonical" href="https://www.realrankus.com/moneyflow/">
  <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/@mdi/font@6.x/css/materialdesignicons.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  
  <link rel="shortcut icon" href="https://www.realrankus.com/moneyflow/apt-rank-mf.png"/>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js" integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
  <script src="https://developers.kakao.com/sdk/js/kakao.js"></script>
  <script src="https://static.nid.naver.com/js/naveridlogin_js_sdk_2.0.2.js" charset="utf-8"></script>  
  <link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>

  <script src="./draw_chart_mf.js" type="text/javascript"></script>
  <script src="./moneyflow.js" type="text/javascript"></script>
  <script src="./moneyflow_m.js" type="text/javascript"></script>
  <script src="../js/sort.js" type="text/javascript"></script>
  <script src="../js/search.js" type="text/javascript"></script>  
  <script src="../js/share.js" type="text/javascript"></script>
  <script src="../js/distance.js" type="text/javascript"></script>    

  <link href="../css/style_common.css" rel="stylesheet"/>
  <link href="./style_mf_m.css" rel="stylesheet"/>

</head>
<style>
</style>

<body ontouchstart="">
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNL2VQN"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  <!-- 타이틀 영역 -->
  <div id="titleBar_theme">
    <!--검색 버튼 표시-->    
    <div id="mfShare"></div>    
    <div class='bShare' onClick='CopyToClipboard(shareText, popMsg)'><i class='fa-regular fa-copy'></i></div>
    <!--타이틀 표시-->    
    <div id="title" onClick='window.location.reload()'>MoneyFlow<span id="themeLogo">BETA</span></div>
    <!-- <div id="footer_text">Copyright 2022 | 리얼랭커스BIZ | <a href="mailto:aptranking@gmail.com" style="text-decoration:None; color: white">협업/광고/제휴문의는 aptranking@gmail.com으로 문의해 주세요</a></div> -->
    <!--공유 버튼-->        
    <div></div>    
    <!--단지 가중치 설정 버튼 표시-->        
    <div id="help" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" id="offcanvas_right" aria-controls="offcanvasRight"><i class="fa-solid fa-ellipsis"></i></div>
  </div>

  <div id="update_info">업데이트 확인 중...</div>
  <div id="menu_selector">    
    <div><input type='radio' class='btnRadio_tab' name='menu_select' autocomplete='off' id='menu_select_list' onClick='change_menu(this)' checked><label class='btn btn-outline-danger' id='label_menu_select_list' for='menu_select_list'><i class="fa-solid fa-table-list"></i> 오늘의 지수</label></div>
    <div><input type='radio' class='btnRadio_tab' name='menu_select' autocomplete='off' id='menu_select_chart' onClick='change_menu(this)'><label class='btn btn-outline-danger' id='label_menu_select_chart' for='menu_select_chart'><i class="fa-solid fa-chart-line"></i> 차트</label></div>
  </div>

  <div id="container">
    <div id="centerBox">
      <!-- Vertically centered scrollable modal -->
        <!-- Button trigger modal -->
        <!-- Modal -->
        <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body" id='aptDetail'></div>
              <div id='footer'></div>
            </div>
          </div>
        </div>      

      <!--지도 표시 영역-->
      <div id="map_area">        
        <div id = "hourly_area"></div>
        <div id = "graph_area"></div>
        <div id = "shortcut"></div>
      </div>

      <!--리얼랭커스 연결-->
      <div id="linkToAptrank_bottom"></div>
  </div>

  <!--지도 위 배너-->
  <div id="map_banner" onClick='openOuterLink("https://naver.me/xDJJrRGf")'>
    리얼랭커스 MY 데이터 맞춤 미팅
  </div>

  <!-- Offcanvas Right -->
  <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel">
    <div class="offcanvas-header">
      <h5 id="offcanvasRightLabel">MENU</h5>
      <button type="button" class="btn-close text-reset btn-close-white" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body"></div>
  </div>

  <!-- Offcanvas Profile -->
  <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasProfile" aria-labelledby="offcanvasProfileLabel">
    <div class="offcanvas-header">
      <h5 id="offcanvasRightLabel"></h5><i class="fa-solid fa-xmark"></i>
    </div>
    <div class="offcanvas-body"></div>
  </div>  

  <!-- Login Modal -->
  <div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="loginModalLabel">Modal title</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body" id="loginDetail"></div>
        <div id="loginfooter"></div>
      </div>
    </div>
  </div>   
  
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.0/chart.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/chartjs-plugin-datalabels/2.2.0/chartjs-plugin-datalabels.min.js"></script>  
  <script src="../js/chartjs-plugin-trendline.js" type="text/javascript"></script>

  <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-database.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-auth.js"></script>   

</body>
<script src="../js/login_240308.js" type="text/javascript"></script>
<script src="../js/apple.js" type="text/javascript"></script>
<script type="module" src="../js/con_counter.js"></script>

<script>
  var selectedRegion = "Korea"
  var selectedSubRegion = "1000000000_Korea"
  var selectedTheme = "under100M"
  var currentMonth = "202409" //수정

  var pageName = "MoneyFlow" //20231020  

  var itemNum = 0;
  var daily_market = "";
  var monthly_market = "";
  var hourly_market = "";

  var hourly_updated = ""
  var daily_updated = ""
  var monthly_updated = ""

  var currentMenu = ""

  var shareTitle = ""
  var shareText = ""
  var shareURL = "https://www.realrankus.com/moneyflow"

  var isMobile = true
  var interaction_mode = "index"

  var today = new Date();
  var today_year = today.getFullYear();
  var today_month = dateReturn(today.getMonth() + 1);
  var today_day = dateReturn(today.getDate());
  var today_num = Number("" + today_year + today_month + today_day);
  var today_str = today_year + "-" + today_month + "-" + today_day;

  function dateReturn(n) {
    return n < 10 ? "0" + n : n;
  }   

  $(document).ready(function(){    
    $('#dataList').html("");
    $('#hourly_area').html("<div id='loading_back'><br><br><br><br><br><br><br><br><div class='spinner-border' role='status'></div></div>")    

    Kakao.init(kakaoKey);
    countUp(pageName)

    $('div.modal').on('show.bs.modal', function() {
      var modal = this;
      var hash = modal.id;
      window.location.hash = hash;
      window.onhashchange = function() {
        if (!location.hash){
          $(modal).modal('hide');
        }
      }
    });

    if(UserAgent.indexOf("inApp")>-1){
      shareHtml = "<div class='bShare' onClick='kakaoShare(shareTitle, shareText, shareURL)'><img src=\"kakao_icon.png\" height=\"25px\"/></div>"
    }
    else{      
      shareHtml = "<div class='bShare' onClick='share(shareTitle, shareText, shareURL)'><i class='fa-solid fa-up-right-from-square'></i></div>"
      //shareHtml = "<div class='bShare' onClick='kakaoShare(shareTitle, shareText, shareURL)'><img src=\"kakao_icon.png\" height=\"25px\"/></div>"
    }
    $('#mfShare').html(shareHtml)

    currentMenu = "moneyflow"  //offcanvas    
    setOffcanvasMenu() //offcanvas
    //login_checker() //LOGIN
    draw()
    setBottomMenu()
  });

  function draw(){
    //$.ajaxSetup({ async: false }); 
    daily_url = "https://www.realrankus.com/moneyflow/market_daily_info.json"
    monthly_url = "https://www.realrankus.com/moneyflow/market_monthly_info.json"
    hourly_url = "https://www.realrankus.com/moneyflow/market_hourly_info.json"
    $.getJSON(hourly_url, function(json) {
        hourly_market = json;
        hourly_updated = (hourly_market["GENERATE"]["value"]).substr(0, 19)
        hourly_year = hourly_updated.substr(2, 2)
        hourly_month = Number(hourly_updated.substr(5, 2))
        hourly_day = Number(hourly_updated.substr(8, 2))
        shareTitle = "MoneyFlow 시장지표 (" + hourly_updated + ")"
        shareText = shareTitle + "\n\n"

        if(isMobile){ interaction_mode = "point" }
        else{ interaction_mode = "index" }
    })
    .then(()=>{
      $.getJSON(daily_url, function(json) {
          daily_market = json;
          daily_updated = (daily_market["GENERATE"][0]).substr(0, 19)
      })    
      .then(()=>{      
        $.getJSON(monthly_url, function(json) {
            monthly_market = json;
            monthly_updated = (monthly_market["GENERATE"][0]).substr(0, 19)
        })    
        .then(()=>{
            $('#hourly_area').html("")
            show_hourly_info()            
            if(!login_status){
              var loginHtml = "<div class='loginBox'>"
              loginHtml += "<div style='height:130px'></div>"
              loginHtml += "<div id='aptrankLoginGuide'>시장 지표의 시계열과 그래프를 확인하세요</div>"
              loginHtml += "<div id='aptrankLoginButton' data-bs-toggle='modal' data-bs-target='#loginModal' onClick='showLogin()'>리얼랭커스 로그인</div>"
              loginHtml += "</div>"
              loginHtml += "<div style='height:130px'></div>"
              $('#graph_area').html(loginHtml)
            }
            else{
              show_daily_info_m()
            }            
            $('#update_info').html("업데이트 : " + hourly_updated)
            $('#graph_area').hide()
            $('#shortcut').hide()
            scrollUp()
        })
      })
    })
    //$.ajaxSetup({ async: true });
  }  

  function openURL(url){    
    if(checkMobile() == "ios"){
      window.location.href = url
    }
    else{
      window.open(url)
    }
  }

function saveLocalStorage(){
  localStorage.setItem('lastRegion', selectedRegion)
  localStorage.setItem('lastSubRegion', selectedSubRegion)
  localStorage.setItem('lastTheme', selectedTheme)
}

function scrollUp(){
  $( 'html, body' ).animate( { scrollTop : 0 }, 50 );
}

function change_menu(menu){
  scrollUp() 

  menu_name = menu.id
  if(menu_name == "menu_select_list"){
    $('#hourly_area').show()
    $('#map_banner').show()
    $('#graph_area').hide()
    $('#shortcut').hide()
  }
  if(menu_name == "menu_select_chart"){
      $('#hourly_area').hide()
      $('#map_banner').hide()
      $('#graph_area').show()
      $('#shortcut').show()
  }
}

function showNotice(info){
  modal_title = ""
  modal_info= ""

  if(info == "pop"){
    modal_title = biz_title_pop
    modal_info = biz_info_pop
  }
  if(info == "price"){
    modal_title = biz_title_price
    modal_info = biz_info_price
  }
  if(info == "deal"){
    modal_title = biz_title_deal
    modal_info = biz_info_deal
  }
  if(info == "rent"){
    modal_title = biz_title_rent_rate
    modal_info = biz_info_rent_rate
  }
  if(info == "supply"){
    modal_title = biz_title_supply
    modal_info = biz_info_supply
  }
  if(info == "non_sales"){
    modal_title = biz_title_non_sales
    modal_info = biz_info_non_sales
  }
  if(info == "regulation"){
    modal_title = biz_title_regulation
    modal_info = biz_info_regulation
  }
  if(info == "aptrank_list"){
    modal_title = biz_title_aptrank_list
    modal_info = biz_info_aptrank_list
  } 
  if(info == "sales_rent_index"){
    modal_title = biz_title_sales_rent_index
    modal_info = biz_info_sales_rent_index
  }  

    var titleHtml = "<div class='popupTitle'>" + modal_title + "</div>";
    var footerHtml = ""
    var detailHtml = "<div class='notice'>" + modal_info + "</div>"
    
    footerHtml += "<div class='modal-footer'>"
    footerHtml += "<div class='notice' id='footerCheck' ><strong>업무 협업, 데이터 커스터마이징 문의는 '이메일 문의하기' 또는 '카카오톡 1:1 문의하기'를 통해 진행해 주세요.</strong></div>"
    footerHtml += "<div id='footerBtn2'><a href='mailto:aptranking@gmail.com'><button type='button' class='goApt' style='font-size: 0.85em'>이메일 문의하기</button></a></div>"
    footerHtml += "<div id='footerBtn2'><a href='https://pf.kakao.com/_vESNb/chat' target='_blank'><button type='button' class='gokakao' style='font-size: 0.85em'>카카오톡 1:1 문의하기</button></a></div>"
    footerHtml += "</div>"  


    $('#exampleModalLabel').html(titleHtml);
    $('#aptDetail').html(detailHtml);
    $('#footer').html(footerHtml);
    $('#footerCheck').css({"grid-column" : "span 2"})
    $('.modal-footer').css({"padding-top" : "3px"})
  }

  var pcDevice = "win16|win32|win64|mac|macintel"

  function openAptrank(){
    to_subRegion = selectedSubRegion

    if(selectedSubRegion == "4128000000_Gyeonggi_Goyang"){ to_subRegion = "4128700000_Gyeonggi_Goyang_Ilsanseo"}
    if(selectedSubRegion == "4113000000_Gyeonggi_Seongnam"){ to_subRegion = "4113500000_Gyeonggi_Seongnam_Bundang" }
    if(selectedSubRegion == "4111000000_Gyeonggi_Suwon"){ to_subRegion = "4111700000_Gyeonggi_Suwon_Yeongtong" }
    if(selectedSubRegion == "4127000000_Gyeonggi_Ansan"){ to_subRegion = "4127100000_Gyeonggi_Ansan_Sangnok" }
    if(selectedSubRegion == "4117000000_Gyeonggi_Anyang"){ to_subRegion = "4117300000_Gyeonggi_Anyang_Dongan" }
    if(selectedSubRegion == "4146000000_Gyeonggi_Yongin"){ to_subRegion = "4146500000_Gyeonggi_Yongin_Suji" }

    if(selectedSubRegion == "Seoul"){ to_subRegion = "1168000000_Seoul_Gangnam"}
    if(selectedSubRegion == "Busan"){ to_subRegion = "2650000000_Busan_Suyeong" }
    if(selectedSubRegion == "Daegu"){ to_subRegion = "2726000000_Daegu_Suseong" }
    if(selectedSubRegion == "Incheon"){ to_subRegion = "2818500000_Incheon_Yeonsu" }
    if(selectedSubRegion == "Gwangju"){ to_subRegion = "2915500000_Gwangju_Nam" }
    if(selectedSubRegion == "Daejeon"){ to_subRegion = "3020000000_Daejeon_Yuseong" }
    if(selectedSubRegion == "Ulsan"){ to_subRegion = "3114000000_Ulsan_Nam" }

    aURL = "https://www.realrankus.com" + "?reg=" + selectedRegion +"&sub=" + to_subRegion
    if ( navigator.platform ) {
        if ( pcDevice.indexOf(navigator.platform.toLowerCase()) < 0 ) {
          location.href = aURL
        } else {
          if(checkMobile() == "ios"){
            window.location.href = aURL
          }
          else{
            window.open(aURL)
          }
        }
    }    
  }
</script>
</html>
